---
layout: post
title: 文字コード(術語の整理)
---

# 術語の整理

Unicode は符号化文字集合や文字符号化方式などを定めた業界規格です。Unicode は符号化文字集合の規格でもあり、符号化方式（CEF, CES）の規格でもあります。
世界中の文字を単一の文字集合（文字セット）として扱っているいるところが特徴です。まずは、この規格について少し整理してみます。

文字コードとその周辺の知識を理解する為には、文字の集まり（アルファベット、ひらがな、かたかななど）が計算機上の文字コードとして表現されるまでに、
次の３段階のレベルがあることを最初に理解しておく必要があります。

<img src="assets/standard-level.svg" alt="概念" width="800px" />

## 抽象文字集合（ＡＣＲ）
 - 単純な文字の集合

「抽象文字集合」あるいは単に「文字集合（文字セット）」は、その名の通り、文字の集合を指します。とくに難しい概念ではありません。「アルファベット」も「５０音」も文字集合の一種です。

## 符号化文字集合（ＣＣＳ）

 - ひとつひとつの文字を区別できるようにする為に、文字にユニークな番号を採番した文字集合

前述の抽象文字集合はあくまで文字の「集まり」を指しているだけです。
計算機で文字を扱うには、文字を区別する為に、文字にユニークな番号が採番されていないと不便です。
ちょうど学校のクラスで生徒に出席番号を振るのと同じように、文字にも番号を採番します。
各文字に番号を採番した文字集合のことを符号化文字集合といいます。
日本語の場合、JIS X 0201、JIS X 0208、JIS X 0212、JIS X 0213と呼ばれている規格が符号化文字集合です。
Unicode では 0x0 - 0x10FFFF (16進数) の範囲で採番されています。

## 文字符号化形式（ＣＥＦ）
 - 文字列を計算機のメモリ上で扱いやすい形式に変換するルール

符号化文字集合として、Unicode 文字は 0x0-0x10FFFF の範囲に採番されていて 21bit の範囲で表現されます。
しかし、計算機は 21bit というデータサイズをそのまま扱うのは苦手です。計算機が、メモリ上でデータを扱う為には、通常、BYTE(8bit)、WORD(16bit)、DWORD(32bit) などの 8 の倍数のデータ型で扱う必要があります。
つまり文字列を計算機で扱う為には、8bit/16bit/32bitの箱の配列に変換する必要があります。
この変換作業のことを「エンコード」あるいは「符号化」と呼びます。

文字符号化形式は、このエンコードのルールを規定したもので、UTF-8, UTF-16, UTF-32 と呼ばれている規格があります。

## 文字符号化スキーム（ＣＥＳ）
 - 文字列をファイルに保存したりネットワークに流したりする形式に変換するルール

文字列をファイルに保存したり、ネットワークに伝送したりする場合は、計算機のメモリ上で扱うのとは別の符号化のルールが必要です。
なぜなら、ファイルに保存したりネットワークに伝送する場合には、16bit や 32bitの配列はそのまま保存できませんので、8bit の配列（直列化=シリアライズ）にする必要があるからです。
文字符号化スキームは、ファイルに保存したりネットワークの伝送に使用することを目的に、8bit の配列に直列化する為のルールです。
UTF-8, UTF-16LE, UTF-16BE, UTF-32LE, UTF-32BE と呼ばれている規格があります。

## コードポイントと文字コード
 - コードポイント

符号化文字集合では、一つ一つの文字には出席番号みたいに番号を持ちます。
この番号のことをコードポイント（符号位置・区点位置）と呼びます。Unicode では、0x0 - 0x10FFFF (16進数)の範囲で採番されています。また JIS X 0208 では 94 個の「区」と 94 個の「点」で定義されています。
ここで「コードポイント」はあくまで机上で採番した、単なる出席番号であって、文字コード（＝計算機上のバイト表現）とは異なりますので注意してください。

 - 文字コード

「文字コード」は計算機上でのバイト表現です。つまり後述する符号化形式でコードポイントを変換して得られるコードです。

## エンコード（符号化）とエンコーディング
 - エンコード（符号化）

「エンコード」あるいは「符号化」とは、データを一定のルールに基づいて変換することを指します。
符号化文字集合の各文字を文字符号化形式や文字符号化スキームのルールに基づいて変換することをエンコード（符号化）と呼びます。
また「エンコードする」と「符号化する」は同じ意味で使われます。

 - エンコーディング

「エンコーディング」は、符号化の方式を意味します。JIS, Shift-Jis, UTF-8, UTF-16 などはエンコーディングの規格です。

